<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ChatGPT 로또추첨기</title>
    <link href="css/reset.css?cssVersion=22" rel="stylesheet">
    <link href="css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"
        referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <!-- 팝업 -->
    <!-- 팝업 -->
    <!-- 팝업 -->
    <div class="popup_modal">
        <div class="size_change">
            <div class="popup_modalBox">
                <div class="popup_modalBox_inner">
                    <div class="how_to_text_wrap" id="how_to_text_1">
                        <div class="content">
                            <!-- <div class="medal">
                                <img src="/asset/win_popup.png" alt="medal">
                            </div> -->
                            <div class="fancy_popup_text">
                                <h1>복사완료😎</h1>
                                <p>다음엔 더 강한 상대도 이겨보세요!</p>
                            </div>
                        </div>
                        <button class="next_about" id="next_about3">1등당첨 ㄱㄱ</button>
                    </div>
                </div>
                <!-- popup_modalBox_inner end -->
                <!-- <button class="close_about" id="close"><i class="fas fa-times"></i></button> -->
            </div>
        </div>
    </div>

    <!-- 팝업 -->
    <!-- 팝업 -->
    <!-- 팝업 -->

    <div class="all_wrap">
        <div class="all_center_wrap">
            <p class="big_title">ChatGPT 로또추첨기</p>

            <div class="group_inner_gap_wrap">
                <div class="group_wrap clearfix">
                    <p class="group_title">게임 A</p>
                    <button class="regenerate" data-group="groupA"><i class="fas fa-sync-alt"></i>
                    </button>
                    <!-- <button class="disable_x">
                        <i class="fas fa-close"></i>
                    </button> -->
                    <div class="group_one_line">
                        <ul class="group" id="groupA"></ul>
                        <button class="copy" data-group="groupA"><i class="fas fa-solid fa-clipboard"></i></button>
                    </div>

                </div>
                <div class="group_wrap">
                    <p class="group_title">게임 B</p>
                    <button class="regenerate" data-group="groupB"><i class="fas fa-sync-alt"></i></button>
                    <!-- <button class="disable_x">
                        <i class="fas fa-close"></i>
                    </button> -->
                    <div class="group_one_line">
                        <ul class="group" id="groupB"></ul>
                        <button class="copy" data-group="groupB"><i class="fas fa-solid fa-clipboard"></i></button>
                    </div>
                </div>

                <div class="group_wrap">
                    <p class="group_title">게임 C</p>
                    <button class="regenerate" data-group="groupC"><i class="fas fa-sync-alt"></i></button>
                    <!-- <button class="disable_x">
                        <i class="fas fa-close"></i>
                    </button> -->
                    <div class="group_one_line">
                        <ul class="group" id="groupC"></ul>
                        <button class="copy" data-group="groupC"><i class="fas fa-solid fa-clipboard"></i></button>
                    </div>
                </div>

                <div class="group_wrap">
                    <p class="group_title">게임 D</p>
                    <button class="regenerate" data-group="groupD"><i class="fas fa-sync-alt"></i></button>
                    <!-- <button class="disable_x">
                        <i class="fas fa-close"></i>
                    </button> -->
                    <div class="group_one_line">
                        <ul class="group" id="groupD"></ul>
                        <button class="copy" data-group="groupD"><i class="fas fa-solid fa-clipboard"></i></button>
                    </div>
                </div>

                <div class="group_wrap">
                    <p class="group_title">게임 E</p>
                    <button class="regenerate" data-group="groupE"><i class="fas fa-sync-alt"></i></button>
                    <!-- <button class="disable_x">
                        <i class="fas fa-close"></i>
                    </button> -->
                    <div class="group_one_line">
                        <ul class="group" id="groupE"></ul>
                        <button class="copy" data-group="groupE"><i class="fas fa-solid fa-clipboard"></i></button>
                    </div>
                </div>

                <!-- buttons -->
                <div class="bottom_btn_wrap">
                    <button class="regenerate-all" id="regenerate-all"><i class="fas fa-sync-alt"></i> 다시뽑기</button>
                    <button class="copy-all" id="copy-all"><i class="fas fa-solid fa-clipboard"></i> </button>
                </div>

            </div>
            <!-- group_inner_gap_wrap end -->

        </div>
        <!-- all_center_wrap end -->

    </div>
    <footer>
        <a class="footer_link" href="https://www.instagram.com/dingga_dm/" target="blank">🎨 Hesper's Instagram 🎸</a>
        <p class="footer_text">ChatGPT & Hesper 가 만든 로또추첨기</p>
        <p class="footer_text ver">Ver 1.3 <span> 23-04-23</span></p>
        <p class="footer_text ver_etc">Ver 1.3 - 챗GPT색적용, 알럿대신 popup사용, 복사 제대로 되는지 확인필요 <span> 23-04-23</span></p>
        <p class="footer_text ver_etc">Ver 1.0 - 보라테마, 알럿 모바일에서는 안나오는 상태로 git에 등록 <span> 23-04-09</span></p>
    </footer>
    <!-- all_wrap end -->




    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
        function generateRandomNumbers(count) {
            let numbers = [];

            for (let i = 1; i <= 45; i++) {
                numbers.push(i);
            }

            let shuffled = numbers.sort(function () {
                return 0.5 - Math.random();
            });

            return shuffled.slice(0, count);
        }

        function generateNumbers(group) {
            let list = $("#" + group);

            list.empty();

            let numbers = generateRandomNumbers(6);

            $.each(numbers, function (index, value) {
                list.append("<li>" + value + "</li>");
            });
        }

        $(document).ready(function () {
            $(".group").each(function () {
                generateNumbers($(this).attr("id"));
            });

            $(".regenerate").click(function () {
                let group = $(this).data("group");
                generateNumbers(group);
            });

            $("#regenerate-all").click(function () {
                $(".group").each(function () {
                    let group = $(this).attr("id");
                    generateNumbers(group);
                });
            });
        });





        // |￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣|
        //     복사/전체복사 버튼 - 웹뷰 앱에선 복사하는
        //     navigator.clipboard.writeText 동작이
        //     안된다해서 주석처리, 다른걸로 구현
        // |＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿|
        //      \ (•◡•) /

        // $(".copy").click(function () {
        //     let group = $(this).data("group");
        //     let numbers = $("#" + group + " li").map(function () {
        //         return $(this).text();
        //     }).get().join(", ");
        //     navigator.clipboard.writeText(numbers);
        //     // alert(numbers + "\n" + "복사완료! 🤑💸");<이거 살리면 알럿으로나옴
        //     $('.fancy_popup_text p').text(numbers);
        //    });

        // $("#copy-all").click(function () {
        //     let allNumbers = "";
        //     $(".group").each(function () {
        //         let groupName = $(this).parents("div").siblings(".group_title").text();
        //         let numbers = $(this).find("li").map(function () {
        //             return $(this).text();
        //         }).get().join(", ");
        //         allNumbers += groupName + " : " + numbers + "\n";
        //     });
        //     navigator.clipboard.writeText(allNumbers);
        //     // alert(allNumbers + "\n" + "전체번호 복사완료! 🤑💰");
        //     $('.fancy_popup_text p').text(allNumbers);
        // });




        // |￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣￣|
        //        복사/전체복사 버튼
        // |＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿＿|
        //      \ (•◡•) /
        $(".copy").click(function () {
            let group = $(this).data("group");
            let numbers = $("#" + group + " li").map(function () {
                return $(this).text();
            }).get().join(", ");

            // 텍스트 영역을 만들어 document에 추가합니다.
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = numbers;
            document.body.appendChild(tempTextArea);

            // 텍스트 영역을 선택하고 복사합니다.
            tempTextArea.select();
            document.execCommand('copy');

            // 텍스트 영역을 제거합니다.
            document.body.removeChild(tempTextArea);

            $('.fancy_popup_text p').text(numbers);
        });

        $("#copy-all").click(function () {
            let allNumbers = "";
            $(".group").each(function () {
                let groupName = $(this).parents("div").siblings(".group_title").text();
                let numbers = $(this).find("li").map(function () {
                    return $(this).text();
                }).get().join(", ");
                allNumbers += groupName + " : " + numbers + "\n";
            });

            // 텍스트 영역을 만들어 document에 추가합니다.
            const tempTextArea = document.createElement('textarea');
            tempTextArea.value = allNumbers;
            document.body.appendChild(tempTextArea);

            // 텍스트 영역을 선택하고 복사합니다.
            tempTextArea.select();
            document.execCommand('copy');

            // 텍스트 영역을 제거합니다.
            document.body.removeChild(tempTextArea);

            $('.fancy_popup_text p').text(allNumbers);
        });



        /* 팝업모달 */
        /* 팝업모달 */
        /* 팝업모달 */


        // about 모달

        $(function () {
            /* 한 줄복사 (copy), 전체복사 (copy-all) 버튼을 누르면  팝업이 나타난다 */
            $(".copy , .copy-all").click(function () {
                $(".popup_modal").fadeIn('1');
            });

            $(".popup_modal").click(function (e) {
                if (e.target.className == "popup_modal") {
                    $(".popup_modal").fadeOut('1');
                }
                if (e.target.className == "size_change") {
                    $(".popup_modal").fadeOut('1');
                }
            });

        });


        // 팝업닫는 글자
        $(function () {
            $("#next_about3").click(function () {
                $(".popup_modal").fadeOut('1');
                // $(".how_to_text_wrap").fadeOut('1');
            });
        });
    </script>

    <!--
    [next_update]
    - ripple effects (📌)
    - 뽑아진 6자리 수를 오름차순으로 정렬해서 보이기 (📌)
    - Icon logo Redesign(📌)
    - 게임별 X 표시 (전체복사 눌렀을때 X는 안 떠야함)
    - PC 버전 
    - 로딩화면
    - 내 카톡으로 보내기


- 복사됏음 팝업뜨고 뒤로가기 누르면 히스토리 백 되게?  해서 ->아무튼. 팝업닫게 하고싶음.
-진동줄수있을까?(심화) 흔들어서 전부 새로제너레이트 할수있나?
(흔들어서 한다면 흔들엇을때 공섞이는 애니 줄수잇을까)(엄청 심화)


    - (🔪) alert이 아닌 popup (🔪)
-->

</body>

</html>
